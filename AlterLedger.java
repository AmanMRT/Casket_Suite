/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package micpro;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

import javax.swing.*;
import java.awt.Cursor;
import java.awt.event.KeyEvent;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import java.sql.*;

/**
 *
 * @author ashok
 */
public class AlterLedger extends javax.swing.JFrame {

    /**
     * Creates new form AlterLedger
     */
    public AlterLedger() {
        initComponents();
        getContentPane().setBackground(new java.awt.Color(245,245,245));
        setTitle("Alter Ledger");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel4 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        mAlterLedgerTextFieldName = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        mAlterLedgerTextFieldContact = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        mAlterLedgerTextFieldEmail = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        mAlterLedgerComboBoxUnder = new javax.swing.JComboBox<>();
        jPanel3 = new javax.swing.JPanel();
        mAlterLedgerTextFieldAddress2 = new javax.swing.JTextField();
        mAlterLedgerTextFieldTown = new javax.swing.JTextField();
        mAlterLedgerTextFieldAddress1 = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        mAlterLedgerTextFieldState = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        mAlterLedgerTextFieldCountry = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        mAlterLedgerTextFieldZipCode = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        mAlterLedgerTextFieldACno = new javax.swing.JTextField();
        mAlterLedgerButtonSubmit = new javax.swing.JButton();
        mAlterLedgerButtonCancel = new javax.swing.JButton();
        mAlterLedgerTextFieldOpeningBalance = new javax.swing.JTextField();
        mAlterLedgerComboBoxUnit = new javax.swing.JComboBox<>();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                formWindowClosing(evt);
            }
        });

        jPanel4.setBackground(new java.awt.Color(245, 245, 245));
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Ledger Alter", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.TOP, new java.awt.Font("Tahoma", 0, 11), new java.awt.Color(0, 102, 255))); // NOI18N

        jLabel1.setText("Enter Name");

        mAlterLedgerTextFieldName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldNameActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldName.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldNameKeyPressed(evt);
            }
        });

        jLabel2.setText("Contact No");

        mAlterLedgerTextFieldContact.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldContactActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldContact.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldContactKeyTyped(evt);
            }
        });

        jLabel3.setText("Email");

        mAlterLedgerTextFieldEmail.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                mAlterLedgerTextFieldEmailFocusLost(evt);
            }
        });
        mAlterLedgerTextFieldEmail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldEmailActionPerformed(evt);
            }
        });

        jLabel5.setText("Opening Balance");

        jLabel4.setText("Under");

        mAlterLedgerComboBoxUnder.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select", "Bank A/c", "Capital A/c", "Cash in Hand", "Current Asset", "Current Liability", "Direct Expenses", "Direct Income", "Fixed Asset", "Income Indirect", "Indirect Expense", "Investment", "Loans and Advances", "Loans Liability", "Purchase A/c", "Provision", "Reserves And Surplus", "Sales A/c", "Secured Loans", "Sundry Creditors", "Sundry Debtors", "Unsecured Loans ", "Suspense" }));
        mAlterLedgerComboBoxUnder.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerComboBoxUnderActionPerformed(evt);
            }
        });

        jPanel3.setBackground(new java.awt.Color(245, 245, 245));
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Related Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.TOP, new java.awt.Font("Tahoma", 0, 11), new java.awt.Color(0, 102, 255))); // NOI18N
        jPanel3.setFocusable(false);

        mAlterLedgerTextFieldAddress2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldAddress2ActionPerformed(evt);
            }
        });

        mAlterLedgerTextFieldTown.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldTownActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldTown.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldTownKeyTyped(evt);
            }
        });

        mAlterLedgerTextFieldAddress1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldAddress1ActionPerformed(evt);
            }
        });

        jLabel13.setText("Address Line 1");

        jLabel14.setText("Town/City");

        jLabel15.setText("Address Line 2");

        jLabel16.setText("State");

        mAlterLedgerTextFieldState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldStateActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldState.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldStateKeyTyped(evt);
            }
        });

        jLabel17.setText("Country");

        mAlterLedgerTextFieldCountry.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldCountryActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldCountry.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldCountryKeyTyped(evt);
            }
        });

        jLabel18.setText("Zip Code");

        mAlterLedgerTextFieldZipCode.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldZipCodeActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldZipCode.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldZipCodeKeyTyped(evt);
            }
        });

        jLabel19.setText("A/c No (if Under As Bank A/c)");

        mAlterLedgerTextFieldACno.setBackground(new java.awt.Color(245, 245, 245));
        mAlterLedgerTextFieldACno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldACnoActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldACno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldACnoKeyTyped(evt);
            }
        });
        mAlterLedgerTextFieldACno.setEditable(false);

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel19)
                            .addComponent(mAlterLedgerTextFieldACno, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel13)
                            .addComponent(mAlterLedgerTextFieldAddress1, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel16)
                            .addComponent(mAlterLedgerTextFieldState, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel15)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel17)
                                .addComponent(mAlterLedgerTextFieldCountry, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(mAlterLedgerTextFieldAddress2, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(mAlterLedgerTextFieldTown, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel14))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(mAlterLedgerTextFieldZipCode, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel18)))))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(jLabel15)
                    .addComponent(jLabel14))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(mAlterLedgerTextFieldAddress1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldAddress2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldTown, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(15, 15, 15)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(jLabel17)
                    .addComponent(jLabel18))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(mAlterLedgerTextFieldState, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldCountry, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldZipCode, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel19)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(mAlterLedgerTextFieldACno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        mAlterLedgerButtonSubmit.setText("Submit");
        mAlterLedgerButtonSubmit.setToolTipText("submit");
        mAlterLedgerButtonSubmit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerButtonSubmitActionPerformed(evt);
            }
        });

        mAlterLedgerButtonCancel.setText("Cancel");
        mAlterLedgerButtonCancel.setToolTipText("cancel");
        mAlterLedgerButtonCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerButtonCancelActionPerformed(evt);
            }
        });

        mAlterLedgerTextFieldOpeningBalance.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerTextFieldOpeningBalanceActionPerformed(evt);
            }
        });
        mAlterLedgerTextFieldOpeningBalance.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                mAlterLedgerTextFieldOpeningBalanceKeyTyped(evt);
            }
        });

        mAlterLedgerComboBoxUnit.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Cr", "Dr" }));
        mAlterLedgerComboBoxUnit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlterLedgerComboBoxUnitActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(mAlterLedgerComboBoxUnder, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(mAlterLedgerTextFieldName, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel4))
                        .addGap(40, 40, 40)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel3)
                                .addGap(121, 121, 121))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel5)
                                .addGap(0, 250, Short.MAX_VALUE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(jPanel4Layout.createSequentialGroup()
                                        .addComponent(mAlterLedgerTextFieldOpeningBalance, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(mAlterLedgerComboBoxUnit, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addComponent(mAlterLedgerTextFieldContact, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 40, Short.MAX_VALUE)
                                .addComponent(mAlterLedgerTextFieldEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(mAlterLedgerButtonSubmit, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(mAlterLedgerButtonCancel, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jLabel2)
                    .addComponent(jLabel3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(mAlterLedgerTextFieldName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldContact, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(mAlterLedgerTextFieldEmail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(15, 15, 15)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(mAlterLedgerTextFieldOpeningBalance, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(mAlterLedgerComboBoxUnit, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(mAlterLedgerComboBoxUnder, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(33, 33, 33)
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(mAlterLedgerButtonCancel)
                    .addComponent(mAlterLedgerButtonSubmit))
                .addGap(11, 11, 11))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(11, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>                        

    private void mAlterLedgerTextFieldNameActionPerformed(java.awt.event.ActionEvent evt) {                                                          
        // TODO add your handling code here:
    }                                                         

    private void mAlterLedgerTextFieldContactActionPerformed(java.awt.event.ActionEvent evt) {                                                             
        // TODO add your handling code here:
    }                                                            

    private void mAlterLedgerTextFieldEmailActionPerformed(java.awt.event.ActionEvent evt) {                                                           
        // TODO add your handling code here:
    }                                                          

    private void mAlterLedgerTextFieldAddress2ActionPerformed(java.awt.event.ActionEvent evt) {                                                              
        // TODO add your handling code here:
    }                                                             

    private void mAlterLedgerTextFieldTownActionPerformed(java.awt.event.ActionEvent evt) {                                                          
        // TODO add your handling code here:
    }                                                         

    private void mAlterLedgerTextFieldAddress1ActionPerformed(java.awt.event.ActionEvent evt) {                                                              
        // TODO add your handling code here:
    }                                                             

    private void mAlterLedgerTextFieldStateActionPerformed(java.awt.event.ActionEvent evt) {                                                           
        // TODO add your handling code here:
    }                                                          

    private void mAlterLedgerTextFieldCountryActionPerformed(java.awt.event.ActionEvent evt) {                                                             
        // TODO add your handling code here:
    }                                                            

    private void mAlterLedgerTextFieldZipCodeActionPerformed(java.awt.event.ActionEvent evt) {                                                             
        // TODO add your handling code here:
    }                                                            

    private void mAlterLedgerTextFieldACnoActionPerformed(java.awt.event.ActionEvent evt) {                                                          
        // TODO add your handling code here:
    }                                                         

    private void mAlterLedgerButtonSubmitActionPerformed(java.awt.event.ActionEvent evt) {                                                         
        // TODO add your handling code here:
        
         if((mAlterLedgerTextFieldName.getText().trim().equals(""))) 
        {
            JOptionPane.showMessageDialog(new JFrame(),"Name can't be empty");
        }
  
//       else if((mCreateLedgerTextFieldOpeningBalance.getText().trim().equals(""))) 
//        {
//            JOptionPane.showMessageDialog(new JFrame(),"Opening Balance can't be empty");
//        }
        else if(mAlterLedgerComboBoxUnder.getSelectedItem().toString().equals("Select"))
        {
              JOptionPane.showMessageDialog(new JFrame(),"Select Under");
        }
        else if((mAlterLedgerTextFieldACno.getText().length()>0)&&(mAlterLedgerTextFieldACno.getText().length()<14))
        {
              JOptionPane.showMessageDialog(new JFrame(),"A/C must be of 14 digits");
        }
        else if((mAlterLedgerTextFieldContact.getText().length()>0)&&(mAlterLedgerTextFieldContact.getText().length()<10))
        {
              JOptionPane.showMessageDialog(new JFrame(),"Contact must be of 10 digits");
        }
        else if((mAlterLedgerTextFieldZipCode.getText().length()>0)&&(mAlterLedgerTextFieldZipCode.getText().length()<6))
        {
              JOptionPane.showMessageDialog(new JFrame(),"ZIP code must be of 6 digits");
        }
        else
        {
          try
                                           {
  			Connection con = dao.createconnection();
			PreparedStatement st = con.prepareStatement("update Ledger_Create set Name=?,Contact_No=?,Email=?,Under=?,Opening_Bal=?,AddLine1=?,AddLine2=?,Town=?,State=?,Country=?,Zip_Code=?,ACno=? where Name=?");
			st.setString(1,mAlterLedgerTextFieldName.getText() );
		st.setString(2,mAlterLedgerTextFieldContact.getText() );
		st.setString(3,mAlterLedgerTextFieldEmail.getText());
                st.setString(4,(String)mAlterLedgerComboBoxUnder.getSelectedItem());
                st.setString(5,mAlterLedgerTextFieldOpeningBalance.getText());
                st.setString(6,mAlterLedgerTextFieldAddress1.getText() );
                st.setString(7,mAlterLedgerTextFieldAddress2.getText() );
                st.setString(8,mAlterLedgerTextFieldTown.getText() );
                st.setString(9,mAlterLedgerTextFieldState.getText() );
                st.setString(10,mAlterLedgerTextFieldCountry.getText());
                st.setString(11,mAlterLedgerTextFieldZipCode.getText());
                st.setString(12,mAlterLedgerTextFieldACno.getText());
                st.setString(13,mAlterLedgerTextFieldContact.getText());
                 int flag=st.executeUpdate();
                                   
                                           if(flag>0)
		{
                JOptionPane.showMessageDialog(new javax.swing.JFrame(),"Record Updated Successfully");
		mAlterLedgerTextFieldName.setText("");
                mAlterLedgerTextFieldContact.setText("");
                mAlterLedgerTextFieldEmail.setText("");
                mAlterLedgerComboBoxUnder.setSelectedIndex(0);
                mAlterLedgerTextFieldOpeningBalance.setText("");
                mAlterLedgerTextFieldAddress1.setText("");
                mAlterLedgerTextFieldAddress2.setText("");
                mAlterLedgerTextFieldTown.setText("");
                mAlterLedgerTextFieldState.setText("");
                mAlterLedgerTextFieldCountry.setText("");
                mAlterLedgerTextFieldZipCode.setText("");
                mAlterLedgerTextFieldACno.setText("");	 }}
            catch(Exception e)	
			{
				JOptionPane.showMessageDialog(new javax.swing.JFrame(),"Ledger Already Exists");
			}
			

        
        }
        
       
    }                                                        

    private void mAlterLedgerTextFieldOpeningBalanceActionPerformed(java.awt.event.ActionEvent evt) {                                                                    
        // TODO add your handling code here:
    }                                                                   

    private void mAlterLedgerComboBoxUnitActionPerformed(java.awt.event.ActionEvent evt) {                                                         
        // TODO add your handling code here:
    }                                                        

    private void mAlterLedgerTextFieldContactKeyTyped(java.awt.event.KeyEvent evt) {                                                      
        // TODO add your handling code here:
         char c=evt.getKeyChar();
                if(((c<'0') || (c>'9')) && (c!=KeyEvent.VK_BACK_SPACE))
                {
                    evt.consume();//ignore event
                }
                else if(mAlterLedgerTextFieldContact.getText().length()>9)
                {
                   evt.consume();
                }
    }                                                     

    private void mAlterLedgerTextFieldEmailFocusLost(java.awt.event.FocusEvent evt) {                                                     
        // TODO add your handling code here:
         if(mAlterLedgerTextFieldEmail.getText().trim().length()>0)
        				{
        			        Pattern pattern3 = Pattern.compile("^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$", Pattern.CASE_INSENSITIVE);
           				Matcher m3=pattern3.matcher(mAlterLedgerTextFieldEmail.getText());
           				Boolean b3=m3.matches();
           				if(b3!=true)
           				{
           				    JOptionPane.showMessageDialog(new JFrame(),"Invalid Email Address");
           				}
                                        }
        
        
    }                                                    

    private void mAlterLedgerComboBoxUnderActionPerformed(java.awt.event.ActionEvent evt) {                                                          
        // TODO add your handling code here:
        
        mAlterLedgerComboBoxUnder=(JComboBox)evt.getSource();
        
        if(mAlterLedgerComboBoxUnder.getSelectedItem().toString().equals("Bank A/c"))
        { 
         mAlterLedgerTextFieldACno.setEditable(true);
                 mAlterLedgerTextFieldACno.setBackground(new java.awt.Color(255,255,255));

        }
       
        else
       {
         mAlterLedgerTextFieldACno.setText("");   
         mAlterLedgerTextFieldACno.setEditable(false);
                 mAlterLedgerTextFieldACno.setBackground(new java.awt.Color(245,245,245));

       }
    }                                                         

    private void mAlterLedgerTextFieldOpeningBalanceKeyTyped(java.awt.event.KeyEvent evt) {                                                             
        // TODO add your handling code here:
        
        char c=evt.getKeyChar();
                if(((c<'0') || (c>'9')) && (c!=KeyEvent.VK_BACK_SPACE))
                {
                    evt.consume();//ignore event
                }
                else if(mAlterLedgerTextFieldOpeningBalance.getText().length()>8)
                {
                   evt.consume();
                }
    }                                                            

    private void mAlterLedgerTextFieldTownKeyTyped(java.awt.event.KeyEvent evt) {                                                   
        // TODO add your handling code here:
         char c=evt.getKeyChar();
         
                if((!Character.isLetter(c)) && (c!=KeyEvent.VK_BACK_SPACE))
               {
                    evt.consume();//ignore event
               }
    }                                                  

    private void mAlterLedgerTextFieldStateKeyTyped(java.awt.event.KeyEvent evt) {                                                    
        // TODO add your handling code here:
        
         char c=evt.getKeyChar();
         
                if((!Character.isLetter(c)) && (c!=KeyEvent.VK_BACK_SPACE))
               {
                    evt.consume();//ignore event
               }
    }                                                   

    private void mAlterLedgerTextFieldCountryKeyTyped(java.awt.event.KeyEvent evt) {                                                      
        // TODO add your handling code here:
         char c=evt.getKeyChar();
         
                if((!Character.isLetter(c)) && (c!=KeyEvent.VK_BACK_SPACE))
               {
                    evt.consume();//ignore event
               }
    }                                                     

    private void mAlterLedgerTextFieldZipCodeKeyTyped(java.awt.event.KeyEvent evt) {                                                      
        // TODO add your handling code here:
        char c=evt.getKeyChar();
                if(((c<'0') || (c>'9')) && (c!=KeyEvent.VK_BACK_SPACE))
                {
                    evt.consume();//ignore event
                }
                else if(mAlterLedgerTextFieldZipCode.getText().length()>5)
                {
                   evt.consume();
                }
    }                                                     

    private void mAlterLedgerButtonCancelActionPerformed(java.awt.event.ActionEvent evt) {                                                         
new Ledger().setVisible(true);
        // TODO add your handling code here:
        dispose();
    }                                                        

    private void mAlterLedgerTextFieldACnoKeyTyped(java.awt.event.KeyEvent evt) {                                                   
        // TODO add your handling code here:
        
        char c=evt.getKeyChar();
                if(((c<'0') || (c>'9')) && (c!=KeyEvent.VK_BACK_SPACE))
                {
                    evt.consume();//ignore event
                }
                else if(mAlterLedgerTextFieldACno.getText().length()>13)
                {
                   evt.consume();
                }
    }                                                  

    private void mAlterLedgerTextFieldNameKeyPressed(java.awt.event.KeyEvent evt) {                                                     
        // TODO add your handling code here:
        
        if(evt.getKeyCode()==KeyEvent.VK_ENTER)
        {
        //database fetch
            
             try
	  {
	Connection con1 = dao.createconnection();
	PreparedStatement ps = con1.prepareStatement("select * from Ledger_Create where Name=?");
       ps.setString(1,mAlterLedgerTextFieldName.getText());
	ResultSet rs = ps.executeQuery();
                if(rs.next())
                {
              mAlterLedgerTextFieldACno.setText(rs.getString(12));
             mAlterLedgerTextFieldAddress1.setText(rs.getString(6));
             mAlterLedgerTextFieldAddress2.setText(rs.getString(7));
             mAlterLedgerTextFieldContact.setText(rs.getString(2));
             mAlterLedgerTextFieldCountry.setText(rs.getString(10));
             mAlterLedgerTextFieldEmail.setText(rs.getString(3));
             mAlterLedgerTextFieldOpeningBalance.setText(rs.getString(5));
             mAlterLedgerComboBoxUnit.setSelectedItem("Cr");
             mAlterLedgerTextFieldState.setText(rs.getString(9));
             mAlterLedgerTextFieldTown.setText(rs.getString(8));
             mAlterLedgerComboBoxUnder.setSelectedItem(rs.getString(4));
             mAlterLedgerTextFieldZipCode.setText(rs.getString(11));
                }

        } catch(Exception e)
                {
                    e.printStackTrace();
                }


        }
    }                                                    

    private void formWindowClosing(java.awt.event.WindowEvent evt) {                                   
new Ledger().setVisible(true); 
      dispose();// TODO add your handling code here:
              // TODO add your handling code here:
    }                                  

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AlterLedger.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AlterLedger.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AlterLedger.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AlterLedger.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new AlterLedger().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JButton mAlterLedgerButtonCancel;
    private javax.swing.JButton mAlterLedgerButtonSubmit;
    private javax.swing.JComboBox<String> mAlterLedgerComboBoxUnder;
    private javax.swing.JComboBox<String> mAlterLedgerComboBoxUnit;
    private javax.swing.JTextField mAlterLedgerTextFieldACno;
    private javax.swing.JTextField mAlterLedgerTextFieldAddress1;
    private javax.swing.JTextField mAlterLedgerTextFieldAddress2;
    private javax.swing.JTextField mAlterLedgerTextFieldContact;
    private javax.swing.JTextField mAlterLedgerTextFieldCountry;
    private javax.swing.JTextField mAlterLedgerTextFieldEmail;
    private javax.swing.JTextField mAlterLedgerTextFieldName;
    private javax.swing.JTextField mAlterLedgerTextFieldOpeningBalance;
    private javax.swing.JTextField mAlterLedgerTextFieldState;
    private javax.swing.JTextField mAlterLedgerTextFieldTown;
    private javax.swing.JTextField mAlterLedgerTextFieldZipCode;
    // End of variables declaration                   
}

